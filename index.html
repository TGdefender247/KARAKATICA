<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>IVANICH SHOP</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{
  height:100%;
  background:#050006;
  color:#f0e6ff;
  font-family:'Share Tech Mono', monospace;
  font-size:13px;
  overflow-x:hidden;
  user-select:none;
}
canvas.matrix{
  position:fixed; inset:0; z-index:0; background:#050006;
}
#content{
  position:relative; z-index:10;
  max-width:720px; margin:auto; padding:40px 16px;
  min-height:100vh; display:flex; flex-direction:column;
  justify-content:center; gap:24px; text-align:center;
}
h1{
  font-size:1.8rem; color:#e0d0ff;
  text-shadow:0 0 4px #a26cff,0 0 18px #6000c0;
}
.futuristic-text{ font-size:.95rem; line-height:1.4; white-space:pre-line; }
.telegram-warning{ color:#ff3b3b; font-weight:bold; }
#container{ display:flex; flex-wrap:wrap; justify-content:center; gap:14px; }
button{
  background:transparent; border:1.5px solid #a26cff; color:#a26cff;
  padding:9px 22px; border-radius:6px; cursor:pointer;
  transition:.3s; min-width:110px;
}
button:hover{ background:#a26cff; color:#000; box-shadow:0 0 10px #a26cff; }
</style>
</head>

<body>

<canvas class="matrix"></canvas>

<div id="content">
  <h1>IVANICH SHOP</h1>

  <p class="futuristic-text">
НАШ КЛИЕНТ — НЕ БОГ, НО ОЧЕНЬ БЛИЗКО  
СЕРВИС НА ГРАНИ ФАНТАСТИКИ  
ЭТО НЕ МАГАЗИН — ЭТО ДОСТУП
  </p>

  <p class="telegram-warning">МУР · КРИСТАЛЛ · ГАШ · АМФ · ШИШКИ</p>

  <div id="container"></div>
</div>

<script>
// ================= MATRIX =================
const canvas=document.querySelector('.matrix');
const ctx=canvas.getContext('2d');
let w,h,cols,drops=[];
const word="IVANICH";

function resize(){
  w=innerWidth; h=innerHeight;
  canvas.width=w; canvas.height=h;
  cols=Math.floor(w/14);
  drops=Array(cols).fill(0);
}
function draw(){
  ctx.fillStyle="rgba(0,0,20,0.15)";
  ctx.fillRect(0,0,w,h);
  ctx.fillStyle="#a26cff";
  ctx.font="14px monospace";
  for(let i=0;i<drops.length;i++){
    const ch=word[Math.floor(Math.random()*word.length)];
    ctx.fillText(ch,i*14,drops[i]*14);
    if(drops[i]*14>h && Math.random()>0.97) drops[i]=0;
    drops[i]++;
  }
}
addEventListener('resize',resize);
resize(); setInterval(draw,50);

// ================= TELEGRAM LINKS (ОБНОВЛЕНО) =================
// В HTML/DOM нет реальных ссылок. Всё открывается программно.
const tgLinks = {
  "ОПЕРАТОР": { type:"https", url:"https://t.me/m/WqI3Xni0YjNi" },
  "ЧАТ":     { type:"tg",    url:"tg://join?invite=q5G7ZOOG1vI0NmQ0" },
  "ВИП ЧАТ": { type:"tg",    url:"tg://join?invite=lPlh3th-aWxjYzk0" },
  "НОВОСТИ": { type:"tg",    url:"tg://join?invite=PPvXyMe87FxlM2I0" },
  "ОТЗЫВЫ":  { type:"tg",    url:"tg://join?invite=IDPdbyYUbN0wYTk0" },
  "АУКЦИОН": { type:"tg",    url:"tg://join?invite=P2N70uFsT99mMzYx" }
};

// ================= TG OPEN ENGINE =================
function openTelegram(linkObj){
  const target = linkObj.url;

  // 1) Основной способ — iframe (deep-link)
  const iframe=document.createElement("iframe");
  iframe.style.display="none";
  iframe.src=target;
  document.body.appendChild(iframe);

  // 2) Fallback — blob (если TG не открылся)
  setTimeout(()=>{
    try{ iframe.remove(); }catch(e){}
    const html=`
<!DOCTYPE html><html><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Telegram</title>
<style>
body{margin:0;background:#000;color:#b289ff;font-family:monospace;
display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:column}
button{padding:12px 24px;border:2px solid #b289ff;background:transparent;color:#b289ff;font-size:16px}
</style>
</head>
<body>
<p>Открываем Telegram…</p>
<button onclick="location.href='${target}'">Открыть</button>
<script>
setTimeout(()=>location.href='${target}',1200);
<\/script>
</body></html>`;
    const blob=new Blob([html],{type:"text/html"});
    window.open(URL.createObjectURL(blob),"_blank","noopener");
  },700);
}

// ================= BUTTONS =================
  const container=document.getElementById("container");
Object.entries(tgLinks).forEach(([title,data])=>{
  const btn=document.createElement("button");
  btn.textContent=title;
  btn.onclick=()=>openTelegram(data);
  container.appendChild(btn);
});

// ================= BASIC PROTECTION =================
document.addEventListener("keydown",e=>{
  if(
    e.key==="F12" ||
    (e.ctrlKey && e.shiftKey && e.key.toLowerCase()==="i") ||
    (e.ctrlKey && e.key.toLowerCase()==="u")
  ){ e.preventDefault(); }
});
document.oncontextmenu=e=>e.preventDefault();
</script>

</body>
</html>
